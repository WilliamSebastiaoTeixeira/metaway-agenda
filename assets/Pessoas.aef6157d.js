import{e as S,c as oe,E as g,aq as E,F as ie,x as j,h,av as ne,n as se,bv as re,v as U,O as N,g as ue,T as p,o as d,i as b,a$ as F,b0 as de,a6 as ce,aF as k,j as n,w as l,W as me,aI as V,aH as M,aG as D,a_ as B,a8 as L,_ as z,k as C,b9 as fe,aJ as ge,Z as ve,I as ye,V as he}from"./index.dc740a0a.js";import{Q as _e}from"./QPage.f8337f99.js";import{Q as Se,a as be,b as we,c as H,l as ke}from"./QTable.0bef1325.js";import{a as A}from"./index.06619860.js";import{u as Ce,c as qe,Q as $,b as O,a as W}from"./QItemLabel.28ad2984.js";import"./_commonjsHelpers.4e997714.js";import"./QMenu.a8842151.js";import"./format.959830d0.js";import"./axios.a518b127.js";const xe={ratio:[String,Number]};function Qe(e,i){return S(()=>{const s=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(s)!==!0&&s>0?{paddingBottom:`${100/s}%`}:null})}const Te=1.7778;var Ie=oe({name:"QImg",props:{...xe,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Te},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:s}){const r=g(e.initialRatio),u=Qe(e,r),c=ue(),{registerTimeout:v,removeTimeout:m}=E(),{registerTimeout:y,removeTimeout:T}=E(),w=S(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),o=S(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),a=[g(null),g(w.value)],f=g(0),q=g(!1),x=g(!1),J=S(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),Z=S(()=>({width:e.width,height:e.height})),K=S(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),X=S(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function Y(){if(T(),e.loadingShowDelay===0){q.value=!0;return}y(()=>{q.value=!0},e.loadingShowDelay)}function I(){T(),q.value=!1}function ee({target:t}){N(c)===!1&&(m(),r.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,R(t,1))}function R(t,_){_===1e3||N(c)===!0||(t.complete===!0?te(t):v(()=>{R(t,_+1)},50))}function te(t){N(c)!==!0&&(f.value=f.value^1,a[f.value].value=null,I(),t.getAttribute("__qerror")!=="true"&&(x.value=!1),s("load",t.currentSrc||t.src))}function ae(t){m(),I(),x.value=!0,a[f.value].value=o.value,a[f.value^1].value=w.value,s("error",t)}function P(t){const _=a[t].value,Q={key:"img_"+t,class:K.value,style:X.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,..._};return f.value===t?Object.assign(Q,{class:Q.class+"current",onLoad:ee,onError:ae}):Q.class+="loaded",h("div",{class:"q-img__container absolute-full",key:"img"+t},h("img",Q))}function le(){return q.value===!1?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},se(i[x.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[h(re,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){U(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,_=>{m(),x.value=!1,_===null?(I(),a[f.value^1].value=w.value):Y(),a[f.value].value=_},{immediate:!0})};ie.value===!0?j(t):t()}return()=>{const t=[];return u.value!==null&&t.push(h("div",{key:"filler",style:u.value})),a[0].value!==null&&t.push(P(0)),a[1].value!==null&&t.push(P(1)),t.push(h(ne,{name:"q-transition--fade"},le)),h("div",{key:"main",class:J.value,style:Z.value,role:"img","aria-label":e.alt},t)}}});const G=p({__name:"Index",props:{id:{},foto:{}},setup(e){const i=e,s=g();async function r(){if(!i.foto||!i.id)return;const u=await A.foto.download.get(i.id,i.foto);s.value=u}return j(r),(u,c)=>(d(),b(Ie,{src:s.value,alt:"Imagem de perfil",ratio:"1",fit:"scale-down",width:"100%",style:{width:"100%"}},null,8,["src"]))}}),Ne={key:0},Ve={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition"},Be={key:0,class:"row justify-center items-center full-width"},Le={key:0},$e=C("span",{class:"text-grey-7 text-body2"}," Nenhum usu\xE1rio encontrado ",-1),ze=p({__name:"Index",props:F({loading:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:F(["editar"],["update:modelValue"]),setup(e,{emit:i}){const s=e,r=i,u=de(e,"modelValue"),c=Ce(),{mobileOrSmallWidth:v}=ce(c),m=[{name:"foto",label:"",align:"left",field:y=>y.foto},{name:"nome",label:"Nome",align:"left",field:y=>y.nome},{name:"cpf",label:"CPF",align:"left",field:y=>y.cpf},{name:"editar",label:"Editar",align:"left",field:""}];return(y,T)=>{var w;return u.value?(d(),k("div",Ne,[n(Se,{flat:"",bordered:"","row-key":"id",grid:me(v),"hide-bottom":!!((w=u.value)!=null&&w.length),loading:s.loading,rows:u.value,columns:m,"rows-per-page-options":[0]},{header:l(o=>[n(be,{props:o},{default:l(()=>[(d(!0),k(M,null,D(o.cols,a=>(d(),b(we,{key:a.name,props:o},{default:l(()=>[B(L(a.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"body-cell-foto":l(o=>[n(H,{props:o},{default:l(()=>[n(G,{id:o.row.id,foto:o.row.foto},null,8,["id","foto"])]),_:2},1032,["props"])]),"body-cell-editar":l(o=>[n(H,{props:o},{default:l(()=>[n(z,{unelevated:"",round:"",flat:"",color:"blue-8",icon:"las la-edit",onClick:a=>r("editar",o.row)},null,8,["onClick"])]),_:2},1032,["props"])]),item:l(o=>[C("div",Ve,[n(fe,null,{default:l(()=>[n(qe,{dense:""},{default:l(()=>[(d(!0),k(M,null,D(o.cols,a=>(d(),b(W,{key:a.name},{default:l(()=>[a.name==="foto"&&!!o.row.foto?(d(),k("div",Be,[n(G,{id:o.row.id,foto:o.row.foto,style:{width:"150px"}},null,8,["id","foto"])])):V("",!0),n($,null,{default:l(()=>[n(O,null,{default:l(()=>[B(L(a.label),1)]),_:2},1024)]),_:2},1024),n($,{side:""},{default:l(()=>[a.name==="foto"?(d(),k("div",Le)):a.name==="editar"?(d(),b(z,{key:1,unelevated:"",round:"",flat:"",color:"blue-8",icon:"las la-edit",onClick:f=>r("editar",o.row)},null,8,["onClick"])):(d(),b(O,{key:2,caption:"",class:ge(a.classes?a.classes:"")},{default:l(()=>[B(L(a.value),1)]),_:2},1032,["class"]))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)])]),"no-data":l(()=>[s.loading?V("",!0):(d(),b(W,{key:0,class:"column items-center justify-center full-width"},{default:l(()=>[n($,{class:"column items-center q-pa-md q-gutter-y-sm"},{default:l(()=>[n(ve,{avatar:"",name:"las la-users",color:"grey-8",size:"40px"}),$e]),_:1})]),_:1}))]),_:1},8,["grid","hide-bottom","loading","rows"])])):V("",!0)}}}),je=C("div",{class:"row justify-start q-mb-md"},[C("span",{class:"text-h6 text-bold text-grey-9"},"Pessoas")],-1),pe={class:"row justify-between q-mb-md"},Ge=p({__name:"Pessoas",setup(e){const i=g(),s=g(!1),r=ye({nome:""});async function u(){try{s.value=!0;const c=await A.pessoa.pesquisar.post(r);i.value=c}finally{s.value=!1}}return j(async()=>{await u(),U(r,ke.exports.debounce(u,500))}),(c,v)=>(d(),b(_e,{padding:"",class:"container"},{default:l(()=>[je,C("div",pe,[n(he,{modelValue:r.nome,"onUpdate:modelValue":v[0]||(v[0]=m=>r.nome=m),label:"Nome",outlined:"",dense:""},null,8,["modelValue"]),n(z,{color:"secondary",unelevated:"","no-caps":"",label:"Novo"})]),n(ze,{modelValue:i.value,"onUpdate:modelValue":v[1]||(v[1]=m=>i.value=m),loading:s.value},null,8,["modelValue","loading"])]),_:1}))}});export{Ge as default};
